* Hand モジュールの開発 2016/02/02
  
** 01/26の説明への変更

*** インタフェースの変更

    先週名前を決めましたが，しっくりこないので，変更したいです:

    - =hand_card= を追加
      : Card hand_card(Hand, int);

    - =hand_calc= => =hand_judge= 名前の変更
    - =poker_hand_to_string= => =hand_pokerhand_to_string = 名前の変更

*** judge 機能を独立に

    役判定に関する機能を纏めることにしました。
    hand.c の中に全ての関数を詰め込まず，
    judge.c の中に役判定関係の関数を纏めることにします。

    モジュール内の * 機能(関数) * を，*ファイル単位* に纏めるというこ
    とです。

**** ファイルの追加

     - src/judge.c
       - PokerHand hand_judge(Hand)
	 - int hand_calc_pairs(Hand)
	 - bool hand_is_straight(Hand)
	 - bool hand_is_flush(Hand)
       - char *hand_pokerhand_to_string(PokerHand)
       
     - test/test_judge.c
       - void test_hand_judge()
       - void test_hand_pokerhand_to_string()


**** Makefileの変更

     これに伴ない，src/, test/ の Makefile に変更が必要です。

     まず自分でMakefileを変更してみてください。
     後で，お手本を見せます。

**** ペアの計算

     - ある一枚のカードについて，
     - そのカード自身を含め，5枚の手札について，
     - 同じ数のカードが，何枚あるか，

     を計算し，その値でペアの数を判別できます。

     それがどうして正しいかは，下記の２次元の表で考えるとよくわかりま
     す：


***** Highcardの場合は5

|   | 1 | 2 | 3 | 4 | 5 |
|---+---+---+---+---+---|
| 1 | 1 |   |   |   |   |
|---+---+---+---+---+---|
| 2 |   | 1 |   |   |   |
|---+---+---+---+---+---|
| 3 |   |   | 1 |   |   | 
|---+---+---+---+---+---|  
| 4 |   |   |   | 1 |   |
|---+---+---+---+---+---|
| 5 |   |   |   |   | 1 |
|---+---+---+---+---+---|


***** ThreeCardsの場合は11

|   | 1 | 2 | 3 | 4 | 5 |
|---+---+---+---+---+---|
| 1 | 1 | 1 | 1 |   |   |
|---+---+---+---+---+---|
| 2 | 1 | 1 | 1 |   |   |
|---+---+---+---+---+---|
| 3 | 1 | 1 | 1 |   |   | 
|---+---+---+---+---+---|  
| 4 |   |   |   | 1 |   |
|---+---+---+---+---+---|
| 5 |   |   |   |   | 1 |
|---+---+---+---+---+---|


***** Fullehouseの場合は13

|   | 1 | 2 | 3 | 4 | 5 |
|---+---+---+---+---+---|
| 1 | 1 | 1 | 1 |   |   |
|---+---+---+---+---+---|
| 2 | 1 | 1 | 1 |   |   |
|---+---+---+---+---+---|
| 3 | 1 | 1 | 1 |   |   | 
|---+---+---+---+---+---|  
| 4 |   |   |   | 1 | 1 |
|---+---+---+---+---+---|
| 5 |   |   |   | 1 | 1 |
|---+---+---+---+---+---|

* Hand モジュールの開発 2016/01/26

** おことわり

   時間が足りなく，この文書はまだ書きかけです。
   講義中に，書きながら進めたいと思います。

   この文書は，下記にあります：

   - ~suzuki/lects/prog/lects/supplyments/hand_dev.org 

** Deckモジュール開発からHandモジュール開発へ

   先生のDeck開発文書を元に，自分のHand開発文書を作ってみましょう。
   文書を作ることが目的ではなく，開発を理解することが目的です。

   Deckの開発と，同じ所，違がう所を理解しましょう。

   文書は，emacs org-mode を使って書いてあります。皆さんが，org-mode
   を使うことは必須ではありません。

   最終的に，自分のHand開発文書ができると，うれしいと思います。
   
*** 先生のDeck開発文書のcopy

    先生のpoker開発文書を全てcopyします:

#+BEGIN_SRC sh :dir ~
cd ~/progs/game/
#+END_SRC

#+RESULTS:

    開発ドキュメント用ディレクトリの作成：

#+BEGIN_SRC sh :dir ~

mkdir -p ~/progs/game/doc

#+END_SRC

#+RESULTS:

    先生のディレクトリをまるごとコピー：

#+BEGIN_SRC sh :dir ~
cd ~/progs/game/doc
cp -Rp ~suzuki/lects/prog/org-docs/poker poker-dev
#+END_SRC

#+RESULTS:

    先生の poker/ ディレクトリを，~/progs/game/doc/poker-dev (ぽーかー
    の開発の意)にコピー。

    poker-dev/deck.org を元に，自分の hand-dev.org を作りましょう。

    あとは，講義時間中に。

   
   
   


  
